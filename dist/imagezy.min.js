"use strict";!function(){var createPlaceholder=function(width,height){var svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),svgNS=svg.namespaceURI,shape=document.createElementNS(svgNS,"rect");return svg.setAttribute("width",width),svg.setAttribute("height",height),shape.setAttributeNS(null,"width",width),shape.setAttributeNS(null,"height",height),shape.setAttributeNS(null,"x",0),shape.setAttributeNS(null,"y",0),shape.setAttributeNS(null,"fill","rgba(200, 200, 200, 0.8"),svg.appendChild(shape),svg},setImageToPlaceholder=function(image,svg){var xml=(new XMLSerializer).serializeToString(svg);image.src="data:image/svg+xml;charset=utf-8,"+xml},setTrigger=function(threshold){return threshold<1?window.innerHeight*(1-threshold)+window.scrollY:window.innerHeight-threshold+window.scrollY},formatThreshold=function(threshold){return threshold?threshold.match(/\%$/)?parseInt(threshold)/100:parseInt(threshold):0},imgs=document.querySelectorAll("img.lazy");imgs.forEach(function(img){var imgWidth=img.width,imgHeight=img.height,placeholder=createPlaceholder(imgWidth,imgHeight);setImageToPlaceholder(img,placeholder)}),window.addEventListener("scroll",function(){imgs.forEach(function(img){var threshold=formatThreshold(img.getAttribute("data-threshold"));img.offsetTop<setTrigger(threshold)&&img.getAttribute("data-src")&&(img.setAttribute("src",img.getAttribute("data-src")),img.removeAttribute("data-src"))})})}();